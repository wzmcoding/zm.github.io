import{F as W,T as R,B as H,q as O,v as G,u as J,m as K,o as Q,n as U,_ as X,E as Z,x as tt,y as et,z as nt}from"./app.Bo7xXc2P.js";import{_ as at}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.5-uPTzjy.js";import{a as ot,u as st}from"./chunks/vue-router.C6YDt_2k.js";import{u as rt,a as it}from"./animation.DahD8DpF.js";import{w as k,a5 as c,ab as S,a9 as f,af as $,A as e,F as V,a4 as ct,P as t,a7 as o,a6 as C,ag as lt,ae as ut,aj as mt,L as b,ah as pt,ac as _t,z as T}from"./framework.A6mPAibL.js";import{_ as ft}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.CWxh2StM.js";import"./chunks/dayjs.BmWuu2Zz.js";import{u as gt}from"./chunks/vue-i18n.DMnAg64a.js";import"./chunks/@vueuse/motion.D2ANLWtK.js";import"./chunks/pinia.io1aU5oy.js";/* empty css                    */import"./chunks/nprogress.OjJGPx9O.js";import"./index.BRXJGymZ.js";function yt(s={primary:"#0078E7"}){const r=W(),l=new R("#999999"),i=new R(s.primary);return{tags:r,getTagStyle:n=>{const p=Array.from(r.value).map(([d,h])=>h.count),g=Math.max(...p),a=Math.min(...p),y=g-a,_=(n-a)/y;return{"--yun-tag-color":l.mix(i,_*100).toString(),fontSize:`${_*36+12}px`}}}}const dt={"inline-flex":""},ht={"inline-flex":"",text:"xs"},vt=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(s){const r=s,{$t:l}=H(),i=V();return rt(i,{i:r.i||0,delay:25}),(m,n)=>(c(),S("span",{ref_key:"tagRef",ref:i,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",dt,"#"+$(e(l)(s.title)),1),f("span",ht,"["+$(s.count)+"]",1)],512))}}),xt={class:"yun-text-light",text:"center",p:"2"},Ct={class:"justify-center items-end",flex:"~ wrap",gap:"1"},zt=k({__name:"tags",setup(s){O([G({"@type":"CollectionPage"})]);const r=ot(),l=st(),i=J(),{t:m}=gt(),n=K(),{tags:p,getTagStyle:g}=yt({primary:i.value.colors.primary}),a=T(()=>r.query.tag||""),y=Q(),_=T(()=>y.postList.filter(u=>u.tags?typeof u.tags=="string"?u.tags===a.value:u.tags.includes(a.value):!1)),d=V(),{show:h}=it(d);function A(v){l.push({query:{tag:v}}),h()}const B=U(n),Y=T(()=>Array.from(p.value).sort());return(v,u)=>{const F=X,w=ft,z=vt,L=ct("RouterView"),E=at,q=Z,I=tt,N=et,j=nt;return c(),S(b,null,[t(N,null,{default:o(()=>[t(F),t(L,null,{default:o(({Component:D})=>[(c(),C(lt(D),null,{"main-header":o(()=>[t(w,{title:e(B)||e(m)("menu.tags"),icon:e(n).icon||"i-ri-tag-line",color:e(n).color,"page-title-class":e(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":o(()=>[t(mt,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:o(()=>[f("div",xt,$(e(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",Ct,[(c(!0),S(b,null,pt(Y.value,([x,P],M)=>(c(),C(z,{key:x,i:M,title:x,count:P.count,style:_t(e(g)(P.count)),onClick:Tt=>A(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(L)]),"main-nav-before":o(()=>[a.value?(c(),C(q,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:o(()=>[t(w,{title:a.value,icon:"i-ri-hashtag"},null,8,["title"]),t(E,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ut("v-if",!0)]),_:1}))]),_:1}),t(I)]),_:1}),t(j)],64)}}});export{zt as default};
